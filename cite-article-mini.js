function getArticleInfo(){let t=document.querySelector("h1"),e=t?t.textContent:"";console.log("title: ",e);let i=document.querySelector("#publication-author"),r=i?i.textContent:"",n=r.replace(/[⁰¹²³⁴⁵⁶⁷⁸⁹]|Auteurs : |\n+/g,"").trim(),o=r?n.split(/(?:, |; | and | et )/).map(t=>t.replace(/\s+/g," ").trim()):[];console.log("authors: ",o);let a=document.querySelector("#publication-issue p"),l=a?a.innerText.split(": ")[1]:"",u=l||"";console.log("issue: ",u);let s=document.querySelector("#publication-doi p a"),c=s?s.getAttribute("href"):"";console.log("doi: ",c);let p=u.match(/\d{4}/),d=p?p[0]:"";return console.log("date: ",d),{title:e,authors:o,journal:"IVES Conference Series",issue:u,doi:c,date:d}}const apaFormats={"APA 6th Edition":function(t){let e=t.authors.join(", ");return`${e} (${t.date}). ${t.title}. <i>${t.journal}, ${t.issue}</i>. ${t.doi}`},"APA 7th Edition":function(t){let e=t.authors.map(t=>{let e=t.split(" "),i=e.shift(),r=e.pop().replace(",","");return`${r}, ${e.join(" ")} ${i.charAt(0)}.`}).join(", ");return`${e} (${t.date}). ${t.title}. <i>${t.journal}, ${t.issue}</i>. ${t.doi}`},ACM:function(t){let e=t.authors.map(t=>{let[e,i]=t.split(" ");return`${i}, ${e[0]}.`}).join(", ");return`${e}. ${t.date}. <i>${t.title}</i>. ${t.journal}, ${t.issue}. ${t.doi}`},ACS:function(t){let e=t.authors.map(t=>{let[e,i]=t.split(" ");return`${i}, ${e}`}).join("; ");return`${e}. <i>${t.title}</i>. ${t.journal}, ${t.issue}. ${t.doi}.`},ABNT:function(t){let e=t.authors.map(t=>{let e=t.split(" "),i=e.pop().replace(",",""),r=e.filter(t=>!t.match(/^[A-Z]\.$/)).map(t=>t.charAt(0)).join(" ");return`${i.toUpperCase()}, ${r}.`}).join("; ");return`${e}. ${t.title}. ${t.journal}, ${t.issue}. ${t.doi}. ${t.date}.`},Chicago:function(t){let e=t.authors.map(t=>{let[e,i]=t.split(" ");return`${i} ${e}`}).join(", ");return`${e}. "<i>${t.title}</i>." ${t.journal} ${t.issue} (${t.date}): ${t.doi}.`},Harvard:function(t){let e=t.authors.map(t=>{let[e,...i]=t.split(" ");return`${i.join(" ")} ${e.toUpperCase()}`}).join(", ");return`${e} ${t.date}, ${t.title}, ${t.journal}, ${t.issue}, ${t.doi}.`},IEEE:function(t){let e=t.authors.map(t=>{let[e,i]=t.split(" ");return`${e[0]}. ${i}`}).join(", ");return`${e}, "<i>${t.title}</i>," ${t.journal}, ${t.issue}, ${t.date}, doi: ${t.doi}.`},MLA:function(t){let e=t.authors.map(t=>{let[e,i]=t.split(" ");return`${i}, ${e}`}).join(", ");return`${e}. "<i>${t.title}</i>." ${t.journal}, ${t.issue}, ${t.date}, ${t.doi}.`},Turabian:function(t){let e=t.authors.map(t=>{let[e,i]=t.split(" ");return`${i}, ${e}`}).join(", ");return`${e}. "<i>${t.title}</i>." ${t.journal} ${t.issue} (${t.date}): ${t.doi}.`},Vancouver:function(t){let e=t.authors.map(t=>{let[e,i]=t.split(" ");return`${i} ${e[0]}`}).join(", ");return`${e}. ${t.title}. ${t.journal}. ${t.issue}. ${t.date};${t.doi}.`}};function createDropdown(){let t=document.createElement("select");Object.keys(apaFormats).forEach(e=>{let i=document.createElement("option");i.value=e,i.textContent=e,t.appendChild(i)}),document.querySelector("#citation-frame").appendChild(t),t.addEventListener("change",function(){let t=getArticleInfo(),e=this.value,i=apaFormats[e](t);console.log("citation: ",i),document.querySelector("#citation-frame p").innerHTML=i})}function displayCitation(t){let e=document.querySelector("select").value,i=apaFormats[e](t),r=document.createElement("p");r.id="citation",r.innerHTML=i,document.querySelector("#citation-frame").appendChild(r)}document.addEventListener("DOMContentLoaded",function(){createDropdown();let t=getArticleInfo();displayCitation(t);let e=document.getElementById("cite-button");e&&e.addEventListener("click",async()=>{let t=document.querySelector("#citation-frame p");if(t){let e="text/html",i=new Blob([t.innerHTML],{type:e}),r=[new ClipboardItem({[e]:i})];try{await navigator.clipboard.write(r),console.log("Text copied to clipboard")}catch(n){console.error("Error copying text to clipboard",n)}}})});